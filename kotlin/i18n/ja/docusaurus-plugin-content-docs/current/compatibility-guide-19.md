---
title: "Kotlin 1.9 の互換性ガイド"
---
_[Keeping the Language Modern](kotlin-evolution-principles)_ と _[Comfortable Updates](kotlin-evolution-principles)_ は、Kotlin言語設計における基本的な原則です。前者は、言語の進化を妨げる構造は削除されるべきであるとし、後者は、コードの移行を可能な限りスムーズにするために、この削除は事前に十分に周知されるべきであるとしています。

ほとんどの言語変更は、アップデートの変更履歴やコンパイラの警告など、他のチャネルを通じてすでに発表されていますが、このドキュメントでは、それらすべてをまとめて、Kotlin 1.8からKotlin 1.9への移行に関する完全なリファレンスを提供します。

## 基本用語

このドキュメントでは、いくつかの種類の互換性について説明します。

- _source_（ソース）：ソース非互換な変更とは、今までエラーや警告なしにコンパイルできていたコードがコンパイルできなくなる変更のことです。
- _binary_（バイナリ）：2つのバイナリアーティファクトを互換性があると言うのは、それらを交換しても、ロードやリンケージエラーが発生しない場合です。
- _behavioral_（動作）：動作非互換な変更とは、変更を適用する前と後で同じプログラムが異なる動作をする場合を指します。

これらの定義は、純粋なKotlinに対してのみ与えられていることに注意してください。他の言語の視点（たとえば、Javaからの視点）から見たKotlinコードの互換性は、このドキュメントの範囲外です。

## 言語

<!--
### タイトル

> **Issue**: [KT-NNNNN](https://youtrack.jetbrains.com/issue/KT-NNNNN)
>
> **Component**: Core language
>
> **Incompatible change type**: source
>
> **Short summary**:
>
> **Deprecation cycle**:
>
> - 1.6.20: report a warning
> - 1.8.0: raise the warning to an error
-->

### 言語バージョン1.3の削除

> **Issue**: [KT-61111](https://youtrack.jetbrains.com/issue/KT-61111/Remove-language-version-1.3)
>
> **Component**: Core language
>
> **Incompatible change type**: source
>
> **Short summary**: Kotlin 1.9では、言語バージョン1.9が導入され、言語バージョン1.3のサポートが削除されます。
>
> **Deprecation cycle**:
>
> - 1.6.0: report a warning
> - 1.9.0: raise the warning to an error

### スーパーインターフェースの型が関数リテラルの場合、スーパーコンストラクタの呼び出しを禁止

> **Issue**: [KT-46344](https://youtrack.jetbrains.com/issue/KT-46344)
>
> **Component**: Core language
>
> **Incompatible change type**: source
>
> **Short summary**: インターフェースが関数リテラル型から継承する場合、Kotlin 1.9では、そのようなコンストラクタが存在しないため、スーパーコンストラクタの呼び出しを禁止します。
>
> **Deprecation cycle**:
> * 1.7.0: report a warning (or an error in progressive mode)
> * 1.9.0: raise the warning to an error

### アノテーションパラメータ型での循環を禁止

> **Issue**: [KT-47932](https://youtrack.jetbrains.com/issue/KT-47932)
>
> **Component**: Core language
>
> **Incompatible change type**: source
>
> **Short summary**: Kotlin 1.9では、アノテーションの型が、直接的または間接的に、そのパラメータ型の1つとして使用されることを禁止します。これにより、循環が作成されるのを防ぎます。
> ただし、アノテーション型の`Array`または`vararg`であるパラメータ型を持つことは許可されています。
>
> **Deprecation cycle**:
> * 1.7.0: report a warning (or an error in progressive mode) on cycles in types of annotation parameters
> * 1.9.0: raise the warning to an error, `-XXLanguage:-ProhibitCyclesInAnnotations` can be used to temporarily revert to pre-1.9 behavior

### パラメータを持たない関数型での@ExtensionFunctionTypeアノテーションの使用を禁止

> **Issue**: [KT-43527](https://youtrack.jetbrains.com/issue/KT-43527)
>
> **Component**: Core language
>
> **Incompatible change type**: source
>
> **Short summary**: Kotlin 1.9では、パラメータを持たない関数型、または関数型ではない型で`@ExtensionFunctionType`アノテーションを使用することを禁止します。
>
> **Deprecation cycle**:
> * 1.7.0: report a warning for annotations on types that aren't function types, report an error for annotations on types that **are** function types
> * 1.9.0: raise the warning for function types to an error

### 代入時のJavaフィールド型のミスマッチを禁止

> **Issue**: [KT-48994](https://youtrack.jetbrains.com/issue/KT-48994)
>
> **Component**: Kotlin/JVM
>
> **Incompatible change type**: source
>
> **Short summary**: Kotlin 1.9は、Javaフィールドに代入された値の型がJavaフィールドのprojected typeと一致しないことを検出した場合、コンパイラエラーを報告します。
>
> **Deprecation cycle**:
> * 1.6.0: report a warning (or an error in the progressive mode) when a projected Java field type doesn't match the assigned value type
> * 1.9.0: raise the warning to an error, `-XXLanguage:-RefineTypeCheckingOnAssignmentsToJavaFields` can be used to temporarily revert to pre-1.9 behavior

### プラットフォーム型のnull許容アサーション例外でソースコードの抜粋を表示しない

> **Issue**: [KT-57570](https://youtrack.jetbrains.com/issue/KT-57570)
>
> **Component**: Kotlin/JVM
>
> **Incompatible change type**: behavioral
>
> **Short summary**: Kotlin 1.9では、式のnullチェックの例外メッセージにソースコードの抜粋が含まれません。代わりに、メソッドまたはフィールドの名前が表示されます。
> 式がメソッドまたはフィールドでない場合、メッセージに追加の情報は提供されません。
>
> **Deprecation cycle**:
>  * < 1.9.0: exception messages generated by expression null checks contain source code excerpts
>  * 1.9.0: exception messages generated by expression null checks contain method or field names only, `-XXLanguage:-NoSourceCodeInNotNullAssertionExceptions` can be used to temporarily revert to pre-1.9 behavior

### 抽象スーパークラスメンバへのスーパー呼び出しの委譲を禁止

> **Issues**: [KT-45508](https://youtrack.jetbrains.com/issue/KT-45508), [KT-49017](https://youtrack.jetbrains.com/issue/KT-49017), [KT-38078](https://youtrack.jetbrains.com/issue/KT-38078)
>
> **Component**: Core language
>
> **Incompatible change type**: source
> 
> **Short summary**: 明示的または暗黙的なスーパー呼び出しが、スーパーインターフェースにデフォルト実装がある場合でも、スーパークラスの_abstract_（抽象）メンバに委譲されると、Kotlinはコンパイルエラーを報告します。
>
> **Deprecation cycle**:
>
> - 1.5.20: introduce a warning when non-abstract classes that do not override all abstract members are used
> - 1.7.0: report a warning if a super call, in fact, accesses an abstract member from a superclass
> - 1.7.0: report an error in all affected cases if the `-Xjvm-default=all` or `-Xjvm-default=all-compatibility` compatibility modes are enabled;
>   report an error in the progressive mode
> - 1.8.0: report an error in cases of declaring a concrete class with a non-overridden abstract method from the superclass, and 
>   super calls of `Any` methods are overridden as abstract in the superclass
> - 1.9.0: report an error in all affected cases, including explicit super calls to an abstract method from the super class

### when-with-subjectの紛らわしい文法を非推奨にする

> **Issue**: [KT-48385](https://youtrack.jetbrains.com/issue/KT-48385)
>
> **Component**: Core language
>
> **Incompatible change type**: source
>
> **Short summary**: Kotlin 1.6では、`when`条件式におけるいくつかの紛らわしい文法構造が非推奨となりました。
>
> **Deprecation cycle**:
>
> - 1.6.20: introduce a deprecation warning on the affected expressions
> - 1.8.0: raise this warning to an error,
>   `-XXLanguage:-ProhibitConfusingSyntaxInWhenBranches` can be used to temporarily revert to the pre-1.8 behavior
> - &gt;= 2.1: repurpose some deprecated constructs for new language features

### 異なる数値型間の暗黙的な型変換を防止

> **Issue**: [KT-48645](https://youtrack.jetbrains.com/issue/KT-48645)
>
> **Component**: Kotlin/JVM
>
> **Incompatible change type**: behavioral
>
> **Short summary**: Kotlinは、意味的にその型へのダウンキャストのみが必要な場合に、数値の値をプリミティブ数値型に自動的に変換することを回避します。
>
> **Deprecation cycle**:
>
> - < 1.5.30: the old behavior in all affected cases
> - 1.5.30: fix the downcast behavior in generated property delegate accessors,
>   `-Xuse-old-backend` can be used to temporarily revert to the pre-1.5.30 fix behavior
> - &gt;= 2.0: fix the downcast behavior in other affected cases

### ジェネリック型エイリアスの使用における上限違反を禁止する（エイリアス型の型引数の型引数で使用される型パラメータ）

> **Issue**: [KT-54066](https://youtrack.jetbrains.com/issue/KT-54066)
>
> **Component**: Core language
>
> **Incompatible change type**: source
>
> **Short summary**: Kotlinは、型エイリアスの型パラメータがエイリアス型の型引数のジェネリック型引数として使用される場合、たとえば`typealias Alias<T> = Base<List<T>>`のように、エイリアス型の対応する型パラメータの上限制約に違反する型引数を持つ型エイリアスの使用を禁止します。
>
> **Deprecation cycle**:
>
> - 1.8.0: report a warning when a generic typealias usage has type arguments violating upper bound constraints of
>   the corresponding type parameters of the aliased type
> - 2.0.0: raise the warning to an error

### パブリックシグネチャでローカル型を近似するときにnull許容を維持する

> **Issue**: [KT-53982](https://youtrack.jetbrains.com/issue/KT-53982)
>
> **Component**: Core language
>
> **Incompatible change type**: source, binary
>
> **Short summary**: 明示的に指定された戻り値の型がない式形式の関数からローカル型または匿名型が返される場合、Kotlinコンパイラはその型の既知のスーパータイプを使用して戻り値の型を推論（または近似）します。
> このとき、コンパイラは、null値が実際に返される可能性がある場合に、非null型を推論する可能性があります。
>
> **Deprecation cycle**:
>
> - 1.8.0: approximate flexible types by flexible supertypes
> - 1.8.0: report a warning when a declaration is inferred to have a non-nullable type that should be nullable, prompting users to specify the type explicitly
> - 2.0.0: approximate nullable types by nullable supertypes, 
>   `-XXLanguage:-KeepNullabilityWhenApproximatingLocalType` can be used to temporarily revert to the pre-2.0 behavior

### オーバーライドを通じて非推奨を伝播しない

> **Issue**: [KT-47902](https://youtrack.jetbrains.com/issue/KT-47902)
>
> **Component**: Core language
>
> **Incompatible change type**: source
>
> **Short summary**: Kotlin 1.9は、スーパークラスの非推奨メンバからサブクラスのオーバーライドメンバへの非推奨の伝播を停止し、これにより、スーパークラスのメンバを非推奨のままにして、サブクラスでは非推奨にしないための明示的なメカニズムを提供します。
>
> **Deprecation cycle**:
>
> - 1.6.20: reporting a warning with the message of the future behavior change and a prompt to either suppress this warning 
>   or explicitly write a `@Deprecated` annotation on an override of a deprecated member
> - 1.9.0: stop propagating deprecation status to the overridden members. This change also takes effect immediately in the progressive mode

### アノテーションクラス内で、パラメータ宣言以外の場所でのコレクションリテラルの使用を禁止

> **Issue**: [KT-39041](https://youtrack.jetbrains.com/issue/KT-39041)
>
> **Component**: Core language
>
> **Incompatible change type**: source
>
> **Short summary**: Kotlinでは、コレクションリテラルを制限された方法で使用できます。つまり、アノテーションクラスのパラメータに配列を渡したり、これらのパラメータのデフォルト値を指定したりするためです。
> しかし、それ以外にも、Kotlinではコレクションリテラルを、ネストされたオブジェクトなど、アノテーションクラス内の他の場所で使用することができました。Kotlin 1.9では、コレクションリテラルを、パラメータのデフォルト値を除き、アノテーションクラス内の他の場所で使用することを禁止します。
>
> **Deprecation cycle**:
>
> - 1.7.0: report a warning (or an error in the progressive mode) on array literals in nested objects in annotation classes
> - 1.9.0: raise the warning to an error

### デフォルト値式でのパラメータのforward referencing（前方参照）を禁止

> **Issue**: [KT-25694](https://youtrack.jetbrains.com/issue/KT-25694)
>
> **Component**: Core language
>
> **Incompatible change type**: source
>
> **Short summary**: Kotlin 1.9では、他のパラメータのデフォルト値式におけるパラメータのforward referencing（前方参照）を禁止します。これにより、パラメータがデフォルト値式でアクセスされるまでに、関数に渡されたか、独自のデフォルト値式によって初期化された値を持つことが保証されます。
>
> **Deprecation cycle**:
>
> - 1.7.0: report a warning (or an error in the progressive mode) when a parameter with default value is references in default value of another parameter that comes before it
> - 1.9.0: raise the warning to an error,
>   `-XXLanguage:-ProhibitIllegalValueParameterUsageInDefaultArguments` can be used to temporarily revert to the pre-1.9 behavior

### インライン関数パラメータでの拡張呼び出しを禁止

> **Issue**: [KT-52502](https://youtrack.jetbrains.com/issue/KT-52502)
>
> **Component**: Core language
>
> **Incompatible change type**: source
>
> **Short summary**: Kotlinでは、インライン関数パラメータをレシーバとして別のインライン関数に渡すことができましたが、このようなコードをコンパイルすると常にコンパイラの例外が発生していました。
> Kotlin 1.9ではこれを禁止し、コンパイラをクラッシュさせる代わりにエラーを報告します。
>
> **Deprecation cycle**:
>
> - 1.7.20: report a warning (or an error in the progressive mode) for inline extension calls on inline functional parameters
> - 1.9.0: raise the warning to an error

### 無名関数引数を持つsuspendという名前の中置関数への呼び出しを禁止

> **Issue**: [KT-49264](https://youtrack.jetbrains.com/issue/KT-49264)
>
> **Component**: Core language
>
> **Incompatible change type**: source
>
> **Short summary**: Kotlin 1.9では、関数型である単一の引数を持つ`suspend`という名前の中置関数が、無名関数リテラルとして渡される場合に、それらの関数を呼び出すことができなくなります。
>
> **Deprecation cycle**:
>
> - 1.7.20: report a warning on suspend infix calls with an anonymous function literal
> - 1.9.0: raise the warning to an error,
>   `-XXLanguage:-ModifierNonBuiltinSuspendFunError` can be used to temporarily revert to the pre-1.9 behavior
> - TODO: Change how the `suspend fun` token sequence is interpreted by the parser

### それらのvariance（変性）に反してインナークラスでキャプチャされた型パラメータの使用を禁止

> **Issue**: [KT-50947](https://youtrack.jetbrains.com/issue/KT-50947)
>
> **Component**: Core language
>
> **Incompatible change type**: source
>
> **Short summary**: Kotlin 1.9では、`in`または`out` varianceを持つ外部クラスの型パラメータを、その型パラメータの宣言されたvarianceに違反する位置で、そのクラスのインナークラスで使用することを禁止します。
>
> **Deprecation cycle**:
>
> - 1.7.0: report a warning (or an error in the progressive mode) when an outer class' type parameter usage position violates the variance rules of that parameter
> - 1.9.0: raise the warning to an error,
>   `-XXLanguage:-ReportTypeVarianceConflictOnQualifierArguments` can be used to temporarily revert to the pre-1.9 behavior

### 複合代入演算子で明示的な戻り値の型がない関数の再帰呼び出しを禁止する

> **Issue**: [KT-48546](https://youtrack.jetbrains.com/issue/KT-48546)
>
> **Component**: Core language
>
> **Incompatible change type**: source
>
> **Short summary**: Kotlin 1.9では、関数本体内の複合代入演算子の引数で、明示的に指定された戻り値の型がない関数を呼び出すことを禁止します。これは、現在その関数の本体内の他の式で行われていることと同じです。
>
> **Deprecation cycle**:
>
> - 1.7.0: report a warning (or an error in the progressive mode) when a function without explicitly specified return type is
>   called recursively in that function's body in a compound assignment operator argument
> - 1.9.0: raise the warning to an error

### 予想される@NotNull Tとnull許容バウンドを持つKotlinジェネリックパラメータによる不健全な呼び出しを禁止

> **Issue**: [KT-36770](https://youtrack.jetbrains.com/issue/KT-36770)
>
> **Component**: Kotlin/JVM
>
> **Incompatible change type**: source
>
> **Short summary**: Kotlin 1.9では、潜在的にnull許容ジェネリック型の値がJavaメソッドの`@NotNull`アノテーション付きパラメータに渡されるメソッド呼び出しを禁止します。
>
> **Deprecation cycle**:
>
> - 1.5.20: report a warning when an unconstrained generic type parameter is passed where a non-nullable type is expected
> - 1.9.0: report a type mismatch error instead of the warning above,  
>   `-XXLanguage:-ProhibitUsingNullableTypeParameterAgainstNotNullAnnotated` can be used to temporarily revert to the pre-1.8 behavior

### このenumのエントリーイニシャライザからのenumクラスのコンパニオンへのメンバーアクセスを禁止

> **Issue**: [KT-49110](https://youtrack.jetbrains.com/issue/KT-49110)
>
> **Component**: Core language
>
> **Incompatible change type**: source
>
> **Short summary**: Kotlin 1.9では、enumエントリーイニシャライザからのenumのコンパニオンオブジェクトへのあらゆる種類のアクセスを禁止します。
>
> **Deprecation cycle**:
>
> - 1.6.20: report a warning (or an error in the progressive mode) on such companion member access
> - 1.9.0: raise the warning to an error,
>   `-XXLanguage:-ProhibitAccessToEnumCompanionMembersInEnumConstructorCall` can be used to temporarily revert to the pre-1.8 behavior

### Enum.declaringClassの合成プロパティを非推奨にし、削除する

> **Issue**: [KT-49653](https://youtrack.jetbrains.com/issue/KT-49653)
>
> **Component**: Kotlin/JVM
>
> **Incompatible change type**: source
>
> **Short summary**: Kotlinでは、基になるJavaクラス`java.lang.Enum`のメソッド`getDeclaringClass()`から生成された`Enum`値で合成プロパティ`declaringClass`を使用できましたが、このメソッドはKotlin `Enum`型では利用できません。Kotlin 1.9では、このプロパティの使用を禁止し、代わりに拡張プロパティ`declaringJavaClass`への移行を提案します。
>
> **Deprecation cycle**:
>
> - 1.7.0: report a warning (or an error in the progressive mode) on `declaringClass` property usages,
>   propose the migration to `declaringJavaClass` extension
> - 1.9.0: raise the warning to an error,
>   `-XXLanguage:-ProhibitEnumDeclaringClass` can be used to temporarily revert to the pre-1.9 behavior
> - 2.0.0: remove `declaringClass` synthetic property

### コンパイラオプション-Xjvm-defaultのenableおよびcompatibilityモードを非推奨にする

> **Issues**: [KT-46329](https://youtrack.jetbrains.com/issue/KT-46329), [KT-54746](https://youtrack.jetbrains.com/issue/KT-54746)
>
> **Component**: Kotlin/JVM
>
> **Incompatible change type**: source
>
> **Short summary**: Kotlin 1.9では、`-Xjvm-default`コンパイラオプションの`enable`および`compatibility`モードの使用を禁止します。
>
> **Deprecation cycle**:
>
> - 1.6.20: introduce a warning on the `enable` and `compatibility` modes of the `-Xjvm-default` compiler option
> - 1.9.0: raise this warning to an error

### ビルダー推論コンテキストで型変数を上限に暗黙的に推論することを禁止

> **Issue**: [KT-47986](https://youtrack.jetbrains.com/issue/KT-47986)
>
> **Component**: Core language
>
> **Incompatible change type**: source
>
> **Short summary**: Kotlin 2.0では、他のコンテキストで行っているのと同じように、ビルダー推論ラムダ関数のスコープ内で、use-site型情報がない場合に、型変数を対応する型パラメータの上限に推論することを禁止します。
>
> **Deprecation cycle**:
>
> - 1.7.20: report a warning (or an error in the progressive mode) when a type parameter is inferred into declared upper bounds in the absence of use-site type information
> - 2.0.0: raise the warning to an error

## 標準ライブラリ

### Range/ProgressionがCollectionを実装し始めるときの潜在的なオーバーロード解決の変更について警告する

> **Issue**: [KT-49276](https://youtrack.jetbrains.com/issue/KT-49276)
>
> **Component**: Core language / kotlin-stdlib
>
> **Incompatible change type**: source
>
> **Short summary**: Kotlin 1.9では、標準のprogression（プログレッション）とそれらから継承された具象range（レンジ）で`Collection`インターフェースを実装することが計画されています。これにより、あるメソッドのオーバーロードが2つあり、1つが要素を受け入れ、もう1つがコレクションを受け入れる場合、オーバーロード解決で異なるオーバーロードが選択される可能性があります。
> Kotlinは、このようなオーバーロードされたメソッドがrangeまたはprogression引数で呼び出された場合に、警告またはエラーを報告することで、この状況を可視化します。
>
> **Deprecation cycle**:
>
> - 1.6.20: report a warning when an overloaded method is called with the standard progression or its range inheritor as an argument
>   if implementing the `Collection` interface by this progression/range leads to another overload being selected in this call in future
> - 1.8.0: raise this warning to an error 
> - 2.1.0: stop reporting the error, implement `Collection` interface in progressions thus changing
>   the overload resolution result in the affected cases

### kotlin.domおよびkotlin.browserパッケージからkotlinx.*への宣言の移行

> **Issue**: [KT-39330](https://youtrack.jetbrains.com/issue/KT-39330)
>
> **Component**: kotlin-stdlib (JS)
>
> **Incompatible change type**: source
>
> **Short summary**: `kotlin.dom`および`kotlin.browser`パッケージからの宣言は、stdlibからそれらを抽出する準備として、対応する`kotlinx.*`パッケージに移動されます。
>
> **Deprecation cycle**:
>
> - 1.4.0: introduce the replacement API in `kotlinx.dom` and `kotlinx.browser` packages
> - 1.4.0: deprecate the API in `kotlin.dom` and `kotlin.browser` packages and propose the new API above as a replacement
> - 1.6.0: raise the deprecation level to an error
> - 1.8.20: remove the deprecated functions from stdlib for JS-IR target
> - &gt;= 2.0: move the API in kotlinx.* packages to a separate library

### いくつかのJS専用APIを非推奨にする

> **Issue**: [KT-48587](https://youtrack.jetbrains.com/issue/KT-48587)
>
> **Component**: kotlin-stdlib (JS)
>
> **Incompatible change type**: source
>
> **Short summary**: stdlibのいくつかのJS専用関数は、削除のために非推奨になっています。これらには、`String.concat(String)`、`String.match(regex: String)`、`String.matches(regex: String)`、および比較関数を取る配列の`sort`関数（例：`Array<out T>.sort(comparison: (a: T, b: T) `->` Int)`)が含まれます。
>
> **Deprecation cycle**:
>
> - 1.6.0: deprecate the affected functions with a warning
> - 1.9.0: raise the deprecation level to an error
> - &gt;=2.0: remove the deprecated functions from the public API

## ツール

### GradleセットアップからenableEndorsedLibsフラグを削除

> **Issue**: [KT-54098](https://youtrack.jetbrains.com/issue/KT-54098)
>
> **Component**: Gradle
>
> **Incompatible change type**: source
>
> **Short summary**: `enableEndorsedLibs`フラグは、Gradleセットアップでサポートされなくなりました。
>
> **Deprecation cycle**:
>
> - < 1.9.0: `enableEndorsedLibs` flag is supported in Gradle setup
> - 1.9.0: `enableEndorsedLibs` flag is **not** supported in Gradle setup

### Gradleの慣習を削除

> **Issue**: [KT-52976](https://youtrack.jetbrains.com/issue/KT-52976)
>
> **Component**: Gradle
>
> **Incompatible change type**: source
>
> **Short summary**: Gradleの慣習はGradle 7.1で非推奨になり、Gradle 8で削除されました。
>
> **Deprecation cycle**:
>
> - 1.7.20: Gradle conventions deprecated
> - 1.9.0: Gradle conventions removed

### KotlinCompileタスクのclasspathプロパティを削除

> **Issue**: [KT-53748](https://youtrack.jetbrains.com/issue/KT-53748)
>
> **Component**: Gradle
>
> **Incompatible change type**: source
>
> **Short summary**: `KotlinCompile`タスクの`classpath`プロパティが削除されました。
>
> **Deprecation cycle**:
>
> - 1.7.0: the `classpath` property is deprecated
> - 1.8.0: raise the deprecation level to an error
> - 1.9.0: remove the deprecated functions from the public API

### kotlin.internal.single.build.metrics.fileプロパティを非推奨にする

> **Issue**: [KT-53357](https://youtrack.jetbrains.com/issue/KT-53357)
>
> **Component**: Gradle
>
> **Incompatible change type**: source
>
> **Short summary**: ビルドレポート用の単一のファイルを定義するために使用される`kotlin.internal.single.build.metrics.file`プロパティを非推奨にします。
> `kotlin.build.report.output=single_file`とともに、代わりにプロパティ`kotlin.build.report.single_file`を使用してください。
>
> **Deprecation cycle:**
>
> * 1.8.0: raise the deprecation level to a warning
> * &gt;= 1.9: delete the property